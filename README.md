Этот Telegram-бот разработан в рамках учебного проекта и предоставляет функциональность для управления задачами с использованием MongoDB для хранения данных, Redis в качестве брокера сообщений и Celery для асинхронной обработки задач.

**Ключевые особенности:**

*   **Шифрование данных:** Реализовано шифрование текста с применением шифрования MongoDB и алгоритма `AEAD_AES_256_CBC_HMAC_SHA_512-Random` для защиты данных пользователей от кражи.
*   **Система приоритетов задач:** Задачи имеют приоритет, который динамически изменяется в зависимости от оставшегося времени до дедлайна.
*   **Защита от NoSQL-инъекций:** Предприняты меры для защиты от возможных NoSQL-инъекций.
*   **Асинхронная обработка задач:**  Использование Celery позволяет выполнять ресурсоемкие операции (например, пересчет приоритетов, проверка просрочек) асинхронно, не блокируя основной поток бота.

## Функциональность

**Пользовательские команды:**

1.  **/add**: Добавляет новую задачу.

    *   **Использование:** `/add <text> <importance> <YYYY-MM-DD HH:MM>`
    *   `<text>`: Описание задачи.
    *   `<importance>`: Важность задачи (1 - низкая, 2 - средняя, 3 - высокая).
    *   `<YYYY-MM-DD HH:MM>`: Дедлайн задачи (год-месяц-день час:минута).

2.  **/tasks**: Выводит список задач, отсортированный по приоритету.  Включает в себя как актуальные, так и просроченные задачи.

    *   **Использование:** /tasks

3.  **/edit**: Редактирует описание существующей задачи.

    *   **Использование:** /edit <task_id> <new_text>
    *   <task_id>: ID задачи, которую необходимо отредактировать.
    *   <new_text>: Новое описание задачи.

4.  **/delete**: Удаляет все задачи, запланированные на указанную дату.

    *   **Использование:** /delete <YYYY-MM-DD>
    *   <YYYY-MM-DD>: Дата для удаления задач (год-месяц-день).

5.  **/done**: Отмечает задачу как выполненную.  При выполнении задачи ее приоритет устанавливается на минимально возможный.

    *   **Использование:** /done <task_id>
    *   <task_id>: ID выполненной задачи.

6.  **/delete_done**: Удаляет все выполненные задачи из базы данных.

    *   **Использование:** /delete_done

7.  **/set_notification**: Устанавливает напоминание для задачи на определенное время.

    *   **Использование:** /set_notification <task_id> <YYYY-MM-DD HH:MM>
    *   <task_id>: ID задачи, для которой нужно установить уведомление.
    *   <YYYY-MM-DD HH:MM>: Дата и время отправки уведомления (год-месяц-день час:минута).

**Автоматические функции:**

1. Периодический пересчет приоритетов: Регулярно пересчитывает приоритеты задач на основе оставшегося времени до дедлайна. Чем меньше времени остается, тем выше приоритет.

2. Проверка просрочек и отправка уведомлений: Регулярно проверяет задачи на предмет просрочки. Если задача просрочена:
  •  Ее дедлайн "лонгируется" (продлевается).
  •  Ее приоритет устанавливается на максимально возможный.
  •  Пользователю отправляется уведомление о просрочке.

▌Запуск бота

Предварительные требования:

•  Установленный Docker.

• Файл config.py должен быть установлен в директорию app. (Для преподавателя выслан в лс тг @vadyukkha)

Инструкция по запуску:

1. Установите Docker (если он еще не установлен).
2. Перейдите в корневую директорию проекта в терминале.
3. Выполните команду:

  
```
bash
  docker compose up --build
```

  Эта команда выполнит сборку Docker-образов и запустит все необходимые контейнеры (бот, MongoDB, Redis, Celery).

4. После успешного запуска контейнеров, бот будет готов к использованию в Telegram @PiwKOSchedulerBot.

▌Безопасность

•  Шифрование данных: Вся конфиденциальная информация, хранящаяся в MongoDB, шифруется с использованием шифрования MongoDB и алгоритма AEAD_AES_256_CBC_HMAC_SHA_512-Random. Это обеспечивает защиту данных пользователей в случае несанкционированного доступа к базе данных.

•  Защита от NoSQL-инъекций: В коде предприняты меры для предотвращения NoSQL-инъекций, путем безопасной обработки пользовательского ввода и использования параметризованных запросов к MongoDB.
